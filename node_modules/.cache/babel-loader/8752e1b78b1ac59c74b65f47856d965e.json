{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\LongNguyen\\\\Projects\\\\CyberSoft\\\\BTGioHang-React\\\\src\\\\BaiTapGioHang\\\\BaiTapGioHang.jsx\";\nimport React, { Component } from \"react\";\nimport ModalGioHang from \"./ModalGioHang\";\nimport phoneData from \"../data/productList.json\";\nimport DanhSachSanPhamGioHang from \"./DanhSachSanPhamGioHang\";\nexport default class BaiTapGioHang extends Component {\n  constructor(props) {\n    super(props);\n\n    this.themGioHang = sanPhamClicked => {\n      let spGioHang = {\n        maSP: sanPhamClicked.maSP,\n        tenSP: sanPhamClicked.tenSP,\n        donGia: sanPhamClicked.donGia,\n        hinhAnh: sanPhamClicked.hinhAnh,\n        soLuong: 1\n      }; // check spClicked in cart?\n\n      var gioHangCapNhat = [...this.state.gioHang];\n      let index = gioHangCapNhat.findIndex(sp => sp.maSP === spGioHang.maSP); // console.log(\"timSpCoTrongGioHang\", index);\n\n      if (index !== -1) {\n        gioHangCapNhat[index].soLuong += 1;\n      } else {\n        gioHangCapNhat.push(spGioHang);\n      } // Set lại state để component render lại\n\n\n      this.setState({\n        gioHang: gioHangCapNhat\n      }); // console.log(\"spClicked:\", sanPhamClicked);\n\n      this.setState({\n        gioHang: [...this.state.gioHang, sanPhamClicked]\n      });\n    };\n\n    this.state = {\n      gioHang: [{\n        maSP: 1,\n        tenSP: \"VinSmart Live\",\n        donGia: 5700000,\n        hinhAnh: \"./img/vsphone.jpg\",\n        soLuong: 1\n      }]\n    };\n  } // Lấy dữ liệu tại componentBaiTapGioHang\n\n\n  render() {\n    let tongSoLuong = this.state.gioHang.reduce((tsl, spGH, index) => {\n      return tsl += spGH.soLuong;\n    }, 0);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-center\",\n        children: \"B\\xE0i t\\u1EADp gi\\u1ECF h\\xE0ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ModalGioHang, {\n        gioHang: this.state.gioHang\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-right\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"m-2 p-1 text-success\",\n          style: {\n            cursor: \"pointer\",\n            fontSize: \"17\",\n            fontWeight: \"bold\"\n          },\n          \"data-toggle\": \"modal\",\n          \"data-target\": \"#modelId\",\n          children: [\"Gi\\u1ECF h\\xE0ng (\", tongSoLuong, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DanhSachSanPhamGioHang, {\n        themGioHang: this.themGioHang,\n        mangSanPham: phoneData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/LongNguyen/Projects/CyberSoft/BTGioHang-React/src/BaiTapGioHang/BaiTapGioHang.jsx"],"names":["React","Component","ModalGioHang","phoneData","DanhSachSanPhamGioHang","BaiTapGioHang","constructor","props","themGioHang","sanPhamClicked","spGioHang","maSP","tenSP","donGia","hinhAnh","soLuong","gioHangCapNhat","state","gioHang","index","findIndex","sp","push","setState","render","tongSoLuong","reduce","tsl","spGH","cursor","fontSize","fontWeight"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport ModalGioHang from \"./ModalGioHang\";\r\nimport phoneData from \"../data/productList.json\";\r\nimport DanhSachSanPhamGioHang from \"./DanhSachSanPhamGioHang\";\r\n\r\nexport default class BaiTapGioHang extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      gioHang: [\r\n        {\r\n          maSP: 1,\r\n          tenSP: \"VinSmart Live\",\r\n          donGia: 5700000,\r\n          hinhAnh: \"./img/vsphone.jpg\",\r\n          soLuong: 1,\r\n        },\r\n      ],\r\n    };\r\n  }\r\n\r\n  // Lấy dữ liệu tại componentBaiTapGioHang\r\n  themGioHang = (sanPhamClicked) => {\r\n    let spGioHang = {\r\n      maSP: sanPhamClicked.maSP,\r\n      tenSP: sanPhamClicked.tenSP,\r\n      donGia: sanPhamClicked.donGia,\r\n      hinhAnh: sanPhamClicked.hinhAnh,\r\n      soLuong: 1,\r\n    };\r\n\r\n    // check spClicked in cart?\r\n    var gioHangCapNhat = [...this.state.gioHang];\r\n    let index = gioHangCapNhat.findIndex((sp) => sp.maSP === spGioHang.maSP);\r\n    // console.log(\"timSpCoTrongGioHang\", index);\r\n    if (index !== -1) {\r\n      gioHangCapNhat[index].soLuong += 1;\r\n    } else {\r\n      gioHangCapNhat.push(spGioHang);\r\n    }\r\n\r\n    // Set lại state để component render lại\r\n    this.setState({\r\n      gioHang: gioHangCapNhat,\r\n    });\r\n\r\n    // console.log(\"spClicked:\", sanPhamClicked);\r\n    this.setState({\r\n      gioHang: [...this.state.gioHang, sanPhamClicked],\r\n    });\r\n  };\r\n  render() {\r\n    let tongSoLuong = this.state.gioHang.reduce((tsl, spGH, index) => {\r\n      return (tsl += spGH.soLuong);\r\n    }, 0);\r\n    return (\r\n      <div>\r\n        <h3 className=\"text-center\">Bài tập giỏ hàng</h3>\r\n        <ModalGioHang gioHang={this.state.gioHang} />\r\n\r\n        <div className=\"text-right\">\r\n          <span\r\n            className=\"m-2 p-1 text-success\"\r\n            style={{ cursor: \"pointer\", fontSize: \"17\", fontWeight: \"bold\" }}\r\n            data-toggle=\"modal\"\r\n            data-target=\"#modelId\"\r\n          >\r\n            Giỏ hàng ({tongSoLuong})\r\n          </span>\r\n        </div>\r\n        <DanhSachSanPhamGioHang\r\n          themGioHang={this.themGioHang}\r\n          mangSanPham={phoneData}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}